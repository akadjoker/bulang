{
    "basics": {
        "label": "Basics",
        "examples": {
            "hello": {
                "title": "Hello World (Canvas)",
                "code": "// Welcome to BuLang Playground!\n\nvar id = canvas_in_output(640, 360);\nprint(id);\n\ncanvas_clear(id);\ncanvas_set_fill_style(id, \"#222\");\ncanvas_fill_rect(id, 0, 0, 1024, 360);\n\ncanvas_set_fill_style(id, \"#00d9ff\");\ncanvas_fill_rect(id, 550, 50, 120, 80);\n\ncanvas_set_fill_style(id, \"white\");\ncanvas_set_font(id, \"20px sans-serif\");\ncanvas_fill_text(id, \"Hello, BuLang :D\", 30, 30);"
            },
            "functions": {
                "title": "Functions",
                "code": "// Functions\ndef greet(name) \n{\n    return \"Hello, \" + name;\n}\n\nwrite(greet(\"BuLang\"));\n\ndef apply(f, x) \n{\n    return f(x);\n}\n\ndef double(n) \n{\n    return n * 2;\n}\n\nwrite(\"double(21) = {} \\n\", apply(double, 21));"
            },
            "classes": {
                "title": "Classes & Objects",
                "code": "// Classes\nclass Point \n{\n    var x, y;\n    def init(x, y) \n    {\n        self.x = x;\n        self.y = y;\n    }\n    \n    def display() \n    {\n        write(\"Point({}, {})\", self.x, self.y);\n    }\n}\n\np = Point(10, 20);\np.display();"
            }
        }
    },
    "controlflow": {
        "label": "Control Flow",
        "examples": {
            "loops": {
                "title": "Loops (for, while, do-while)",
                "code": "// Loops\nfor (var i = 0; i < 3; i++)\n{\n    write(\"Loop iteration: {}\\n\", i);\n}\n\n// While loop\ncount = 0;\nwhile (count < 3 )\n{\n    write(\"Count: {}\\n\", count);\n    count = count + 1;\n}\n\n// Do-while loop\ncount = 0;\ndo \n{\n    write(\"Count: {}\\n\", count);\n    count = count + 1;\n} while (count < 3);"
            }
        }
    },
    "recursion": {
        "label": "Recursion",
        "examples": {
            "fibonacci": {
                "title": "Fibonacci Performance",
                "code": "// Fibonacci recursivo\ndef get(n) \n{\n    if (n < 2) return n;\n    return get(n - 1) + get(n - 2);\n}\n\nvar start = clock();\nfor(var i=1; i<5; i=i+1)\n{\n    print(get(28));\n}\nwrite(\"elapsed: {} ms\\n\", clock() - start);"
            }
        }
    },
    "builtin": {
        "label": "Built-in Functions",
        "examples": {
            "math": {
                "title": "Math Functions",
                "code": "// Math functions\nwrite(\"sqrt(16) = {}\\n\", sqrt(16));\nwrite(\"sqrt(2) = {}\\n\", sqrt(2));\nwrite(\"sin(0) = {}\\n\", sin(0));\nwrite(\"cos(0) = {}\\n\", cos(0));\nwrite(\"abs(-42) = {}\\n\", abs(-42));"
            }
        }
    },
    "advanced": {
        "label": "Advanced Features",
        "examples": {
            "hex_unicode": {
                "title": "Hex Numbers & Unicode",
                "code": "// Hex numbers\nvar hex1 = 0xFF;\nvar hex2 = 0x1A;\nvar hex3 = 0x00;\n\n// Unicode escapes\nvar str1 = \"Hello\\u263A\";           // Emoji â˜ºï¸\nvar str2 = \"Rocket\\U0001F680\";      // Emoji ðŸš€\nvar str3 = \"Tab\\there\";             // Tab normal\nvar str4 = \"Hex\\x41\";               // \\x41 = 'A'\n\nprint(hex1);\nprint(hex2);\nprint(hex3);\nprint(str1);\nprint(str2);\nprint(str4);"
            }
        }
    },
    "arrays": {
        "label": "Arrays & Higher-Order Functions",
        "examples": {
            "sort": {
                "title": "Custom Sort",
                "code": "// Sort with custom comparator\ndef asc(a, b)\n{\n    return a < b;\n}\n\ndef desc(a, b)\n{\n    return a > b;\n}\n\ndef sort_array(a, cmp)\n{\n    var r = [];\n    for (var i = 0; i < a.length(); i = i + 1)\n        r.push(a[i]);\n    \n    for (var i = 0; i < r.length(); i = i + 1)\n    {\n        for (var j = i + 1; j < r.length(); j = j + 1)\n        {\n            if (!cmp(r[i], r[j]))\n            {\n                var t = r[i];\n                r[i] = r[j];\n                r[j] = t;\n            }\n        }\n    }\n    return r;\n}\n\nvar list = [5, 1, 4, 2, 8];\nprint(sort_array(list, asc));\nprint(sort_array(list, desc));"
            },
            "foreach": {
                "title": "For Each",
                "code": "// for_each example\ndef for_each(a, fn)\n{\n    for (var i = 0; i < a.length(); i = i + 1)\n        fn(a[i]);\n}\n\ndef show(x)\n{\n    write(\"value = {}\\n\", x);\n}\n\nvar nums = [10, 20, 30];\nfor_each(nums, show);"
            },
            "filter": {
                "title": "Filter",
                "code": "// Filter example\ndef filter(a, pred)\n{\n    var r = [];\n    for (var i = 0; i < a.length(); i = i + 1)\n    {\n        if (pred(a[i]))\n            r.push(a[i]);\n    }\n    return r;\n}\n\ndef is_even(n)\n{\n    return n % 2 == 0;\n}\n\nprint(filter([1,2,3,4,5,6], is_even));"
            },
            "map": {
                "title": "Map",
                "code": "// Map example\ndef map(a, fn)\n{\n    var r = [];\n    for (var i = 0; i < a.length(); i = i + 1)\n        r.push(fn(a[i]));\n    return r;\n}\n\ndef square(x)\n{\n    return x * x;\n}\n\nprint(map([1,2,3,4], square));"
            }
        }
    },
    "canvas": {
        "label": "Canvas Graphics",
        "examples": {
            "bars": {
                "title": "Bar Chart",
                "code": "// Bar Chart - Sales by Month\nvar id = canvas_in_output(500, 300);\ncanvas_set_fill_style(id, \"#fff\");\ncanvas_fill_rect(id, 0, 0, 500, 300);\n\nvar values = [120, 80, 200, 150, 90];\nvar colors = [\"#e74c3c\", \"#3498db\", \"#2ecc71\", \"#f39c12\", \"#9b59b6\"];\n\nvar i = 0;\nwhile (i < 5) \n{\n    var x = 50 + i * 90;\n    var height = values[i];\n    var y = 250 - height;\n    \n    // Bar\n    canvas_set_fill_style(id, colors[i]);\n    canvas_fill_rect(id, x, y, 60, height);\n    \n    // Outline\n    canvas_set_stroke_style(id, \"#333\");\n    canvas_set_line_width(id, 2);\n    canvas_stroke_rect(id, x, y, 60, height);\n    \n    i = i + 1;\n}\n\n// Title\ncanvas_set_fill_style(id, \"#000\");\ncanvas_set_font(id, \"bold 20px sans-serif\");\ncanvas_fill_text(id, \"Sales by Month\", 150, 30);"
            },
            "grid": {
                "title": "Grid with Circle",
                "code": "// Grid with Circle\nvar id = canvas_in_output(400, 400);\ncanvas_clear(id);\n\n// Background\ncanvas_set_fill_style(id, \"#111\");\ncanvas_fill_rect(id, 0, 0, 400, 400);\n\n// Grid\ncanvas_set_stroke_style(id, \"#333\");\ncanvas_set_line_width(id, 1);\n\nvar i = 0;\nwhile (i < 400) \n{\n    // Vertical\n    canvas_begin_path(id);\n    canvas_move_to(id, i, 0);\n    canvas_line_to(id, i, 400);\n    canvas_stroke(id);\n    \n    // Horizontal\n    canvas_begin_path(id);\n    canvas_move_to(id, 0, i);\n    canvas_line_to(id, 400, i);\n    canvas_stroke(id);\n    \n    i = i + 40;\n}\n\n// Draw circle in center\ncanvas_set_fill_style(id, \"#0f0\");\ncanvas_fill_circle(id, 200, 200, 50);\n\ncanvas_set_stroke_style(id, \"#fff\");\ncanvas_set_line_width(id, 2);\ncanvas_stroke_circle(id, 200, 200, 50);"
            },
            "shapes": {
                "title": "Shapes & Strokes",
                "code": "// Shapes and Strokes\nvar id = canvas_in_output(400, 300);\n\n// Rectangle with stroke\ncanvas_set_stroke_style(id, \"#ff0\");\ncanvas_set_line_width(id, 3);\ncanvas_stroke_rect(id, 50, 50, 100, 80);\n\n// Line\ncanvas_set_stroke_style(id, \"#0ff\");\ncanvas_set_line_width(id, 2);\ncanvas_begin_path(id);\ncanvas_move_to(id, 10, 10);\ncanvas_line_to(id, 200, 50);\ncanvas_line_to(id, 200, 200);\ncanvas_stroke(id);\n\n// Filled circle\ncanvas_set_fill_style(id, \"#f0f\");\ncanvas_fill_circle(id, 300, 150, 40);\n\n// Circle stroke\ncanvas_set_stroke_style(id, \"#0f0\");\ncanvas_set_line_width(id, 3);\ncanvas_stroke_circle(id, 300, 150, 50);"
            }
        }
    }
}